@prefix : <http://example.org/ontology#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

<http://example.org/ontology>
    rdf:type owl:Ontology .

#################################################################
#    Classes
#################################################################

:ExperimentStep rdf:type owl:Class .
:Result rdf:type owl:Class .
:Series rdf:type owl:Class .
:Datapoint rdf:type owl:Class .
:Infrastructure rdf:type owl:Class .
:ParameterBlueprint rdf:type owl:Class .
:Category rdf:type owl:Class .
:Technique rdf:type owl:Class .
:Sample rdf:type owl:Class .
:Signature rdf:type owl:Class .
:DataType rdf:type owl:Class .
:Author rdf:type owl:Class .
:Action rdf:type owl:Class .
:Software rdf:type owl:Class .
:Device rdf:type owl:Class .
:SeriesSetBlueprint rdf:type owl:Class .
:Container rdf:type owl:Class .
:Reference rdf:type owl:Class .
:Method rdf:type owl:Class .
:HumanAuthor rdf:type owl:Class .

#################################################################
#    Object Properties
#################################################################

:includesStep rdf:type owl:ObjectProperty ;
    rdfs:domain :Result ;
    rdfs:range :ExperimentStep .

:originatesFromSeries rdf:type owl:ObjectProperty ;
    rdfs:domain :Datapoint ;
    rdfs:range :Series .

:referencedInInfrastructure rdf:type owl:ObjectProperty ;
    rdfs:domain :Sample ;
    rdfs:range :Infrastructure .

:producedByStep rdf:type owl:ObjectProperty ;
    rdfs:domain :Sample ;
    rdfs:range :ExperimentStep .

:consumedByStep rdf:type owl:ObjectProperty ;
    rdfs:domain :Sample ;
    rdfs:range :ExperimentStep .

:hasSignature rdf:type owl:ObjectProperty ;
    rdfs:domain owl:Thing ;
    rdfs:range :Signature .

:containsDatapointType rdf:type owl:ObjectProperty ;
    rdfs:domain :Series ;
    rdfs:range :DataType .

:hasFirstValue rdf:type owl:ObjectProperty ;
    rdfs:domain :Series ;
    rdfs:range :Datapoint .

:performedAction rdf:type owl:ObjectProperty ;
    rdfs:domain :Author ;
    rdfs:range :Action .

:runOnDevice rdf:type owl:ObjectProperty ;
    rdfs:domain :Software ;
    rdfs:range :Device .

:optionalParameter rdf:type owl:ObjectProperty ;
    rdfs:domain :Category ;
    rdfs:range :ParameterBlueprint .

:allowedSeriesBlueprint rdf:type owl:ObjectProperty ;
    rdfs:domain :SeriesSetBlueprint ;
    rdfs:range :ParameterBlueprint .

:commonParameter rdf:type owl:ObjectProperty ;
    rdfs:domain :SeriesSetBlueprint ;
    rdfs:range :ParameterBlueprint .

:subCategoryOf rdf:type owl:ObjectProperty ;
    rdfs:domain :Category ;
    rdfs:range :Category .

:extendsTechnique rdf:type owl:ObjectProperty ;
    rdfs:domain :Technique ;
    rdfs:range :Technique .

:containsSeries rdf:type owl:ObjectProperty ;
    rdfs:domain :Category ;
    rdfs:range :Series .

:relatesToResult rdf:type owl:ObjectProperty ;
    rdfs:domain :Series ;
    rdfs:range :Result .

:relatesToMethod rdf:type owl:ObjectProperty ;
    rdfs:domain :Series ;
    rdfs:range :Method .

:relatesToSample rdf:type owl:ObjectProperty ;
    rdfs:domain :Series ;
    rdfs:range :Sample .

:containedInSubCategory rdf:type owl:ObjectProperty ;
    rdfs:domain :Series ;
    rdfs:range :Category .

:containerOfReference rdf:type owl:ObjectProperty ;
    rdfs:domain :Reference ;
    rdfs:range :Container .

:pointsTo rdf:type owl:ObjectProperty ;
    rdfs:domain :Reference ;
    rdfs:range owl:Thing .

:containerOf rdf:type owl:ObjectProperty ;
    rdfs:domain :Sample ;
    rdfs:range :Container .

:blueprintForCategory rdf:type owl:ObjectProperty ;
    rdfs:domain :ParameterBlueprint ;
    rdfs:range :Category .

:parameterResidesInCategory rdf:type owl:ObjectProperty ;
    rdfs:domain :ParameterBlueprint ;
    rdfs:range :Category .

:hasVersion rdf:type owl:ObjectProperty ;
    rdfs:domain :Author ;
    rdfs:range xsd:string .

:derivedInPreviousStep rdf:type owl:ObjectProperty ;
    rdfs:domain :Sample ;
    rdfs:range :ExperimentStep .

#################################################################
#    Data Properties
#################################################################

:hasDataType rdf:type owl:DatatypeProperty ;
    rdfs:domain :Datapoint ;
    rdfs:range xsd:string .

:hasValue rdf:type owl:DatatypeProperty ;
    rdfs:domain :Datapoint ;
    rdfs:range xsd:string .

:hasSignatureValue rdf:type owl:DatatypeProperty ;
    rdfs:domain :Signature ;
    rdfs:range xsd:string .

#################################################################
#    Restrictions
#################################################################

# All Datapoints in a Series are of a DataType
:Series
    rdfs:subClassOf [
        rdf:type owl:Restriction ;
        owl:onProperty :containsDatapointType ;
        owl:someValuesFrom :DataType
    ] .

# A Sample may be produced by at most one ExperimentStep
:Sample
    rdfs:subClassOf [
        rdf:type owl:Restriction ;
        owl:onProperty :producedByStep ;
        owl:maxCardinality "1"^^xsd:nonNegativeInteger
    ] .

# A Sample may be consumed by at most one ExperimentStep
:Sample
    rdfs:subClassOf [
        rdf:type owl:Restriction ;
        owl:onProperty :consumedByStep ;
        owl:maxCardinality "1"^^xsd:nonNegativeInteger
    ] .

# A Category may have subcategories
:Category
    rdfs:subClassOf [
        rdf:type owl:Restriction ;
        owl:onProperty :subCategoryOf ;
        owl:someValuesFrom :Category
    ] .

# A HumanAuthor is an Author and disjoint with Software
:HumanAuthor rdf:type owl:Class ;
    owl:equivalentClass [
        rdf:type owl:Class ;
        owl:intersectionOf ( :Author [ rdf:type owl:Class ] )
    ] ;
    owl:disjointWith :Software .

# A Reference points to an Item, and the container of the pointed item is the container of the reference
:Reference
    rdfs:subClassOf [
        rdf:type owl:Restriction ;
        owl:onProperty :pointsTo ;
        owl:someValuesFrom owl:Thing
    ] .

#################################################################
#    SubClassOf and EquivalentClass
#################################################################

:HumanAuthor rdfs:subClassOf :Author .

#################################################################
#    Disjoint Classes
#################################################################

:HumanAuthor owl:disjointWith :Software .
:Sample owl:disjointWith :ExperimentStep .
:Result owl:disjointWith :Series .
:Signature owl:disjointWith :Sample .

#################################################################
#    Individuals (for testing)
#################################################################

:author1 rdf:type :HumanAuthor .
:software1 rdf:type :Software .
:device1 rdf:type :Device .
:series1 rdf:type :Series .
:datapoint1 rdf:type :Datapoint .
:category1 rdf:type :Category .
:parameter1 rdf:type :ParameterBlueprint .
:sample1 rdf:type :Sample .
:step1 rdf:type :ExperimentStep .
:result1 rdf:type :Result .
:signature1 rdf:type :Signature .
:container1 rdf:type :Container .
:reference1 rdf:type :Reference .

:series1 :containsDatapointType :DataType .
:datapoint1 :originatesFromSeries :series1 .
:sample1 :producedByStep :step1 .
:sample1 :consumedByStep :step1 .
:sample1 :containerOf :container1 .
:reference1 :pointsTo :sample1 .
:reference1 :containerOfReference :container1 .
:author1 :performedAction :Action .
:software1 :runOnDevice :device1 .
:category1 :optionalParameter :parameter1 .
:category1 :subCategoryOf :category1 .
:series1 :relatesToResult :result1 .
:series1 :relatesToSample :sample1 .
:series1 :containedInSubCategory :category1 .
:parameter1 :blueprintForCategory :category1 .
:parameter1 :parameterResidesInCategory :category1 .
:sample1 :referencedInInfrastructure :Infrastructure .
:sample1 :derivedInPreviousStep :step1 .
:series1 :hasFirstValue :datapoint1 .
:datapoint1 :hasDataType "float" .
:datapoint1 :hasValue "3.14" .
:signature1 :hasSignatureValue "sig123" .